<%= form_with(model: booking, apartment: apartment, remote: true, id: 'bookings_form') do |form| %>
  <%= render 'shared/error_messages', target: booking %>
  <%= hidden_field_tag 'booking[user_id]', current_user&.id %>
  <%= hidden_field_tag 'invoice[invoice_number]', random_invoice_number %>
  <%= hidden_field_tag 'invoice[date]', Date.today %>
  <%= hidden_field_tag 'invoice[amount]', @apartment&.rent_rate&.net_rate %>
  <%= hidden_field_tag :apartment, apartment %>
  <div class='row'>
    <div class="form-group col-sm-12">
      <%= form.label t('booking.status'), class:"col-form-label" %><br/>
      <%= select_tag 'booking[status]', options_for_select(Payment.payment_statuses, 'pending'),  class: 'form-control selectpicker', disabled: true %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group at-checkin-holder at-datecheck col-sm-6">
      <%= form.label t('booking.start_date'), class:"col-form-label" %>
      <%= form.text_field :start_date, class: 'form-control at-startdate' %>
    </div>
    <div class="form-group at-checkout-holder at-datecheck col-sm-6">
      <%= form.label t('booking.end_date'), class:"col-form-label" %>
      <%= form.text_field :end_date, class: 'form-control at-enddate' %>
    </div>
  </div>
  <%= link_to 'Back', apartments_path, class: 'btn btn-dark mt-4 pr-4 pl-4' %>
  <%= button_tag 'Save', class:"at-btn at-btnactive mt-4 pr-4 pl-4", type: "submit", style:"height: 40px;min-width:auto;" %>
<% end %>
<script type="text/javascript">
  $(document).ready(function (e) {
    BookingForm.validate();
  });
</script>
