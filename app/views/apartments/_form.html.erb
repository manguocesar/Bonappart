<%= form_with(model: apartment, local: true, id: 'apartments_form') do |form| %>
  <%= render 'shared/error_messages', target: apartment %>
  <%= hidden_field_tag 'apartment[user_id]', current_user&.id %>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.title'), class:"col-form-label" %><br/>
      <%= form.text_field :title, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.area'), class:"col-form-label" %><br/>
      <%= form.text_field :area, class: 'form-control' %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.city'), class:"col-form-label" %><br/>
      <%= form.text_field :city, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.country'), class:"col-form-label" %><br/>
      <%= form.text_field :country, class: 'form-control' %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.postalcode'), class:"col-form-label" %><br/>
      <%= form.text_field :postalcode, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.apartment_type'), class:"col-form-label" %><br/>
      <%= form.text_field :apartment_type, class: 'form-control' %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.description'), class:"col-form-label" %><br/>
      <%= form.text_field :description, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.floor'), class:"col-form-label" %><br/>
      <%= form.text_field :floor, class: 'form-control' %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.available_date'), class:"col-form-label" %><br/>
      <%= form.text_field :departure_date, class: 'form-control', id: 'departure-date' %>
    </div>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.total_bedrooms'), class:"col-form-label" %><br/>
      <%= form.text_field :total_bedrooms, class: 'form-control' %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.shower_room'), class:"col-form-label" %><br/>
      <%= form.text_field :shower_room, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.distance_from_university'), class:"col-form-label" %><br/>
      <%= form.text_field :distance_from_university, class: 'form-control' %>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-6">
      <%= form.label t('apartment.other_facilities'), class:"col-form-label" %><br/>
      <%= form.text_field :other_facilities, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <div class="custom-file">
        <%= form.label t('apartment.images'), class:"col-form-label " %><br/>
        <%= form.file_field :images, class: "custom-file-input", id:"customFile" , required: true, multiple: true %>
        <label class="custom-file-label" for="customFile"><%= t('apartment.select_images') %></label>
      </div>
    </div>
  </div>
  <div class='row'>
    <div class="form-group col-sm-4">
      <%= form.label t('apartment.longitude'), class:"col-form-label" %><br/>
      <%= form.text_field :longitude, class: 'form-control' %>
    </div>
     <div class="form-group col-sm-4">
      <%= form.label t('apartment.latitude'), class:"col-form-label" %><br/>
      <%= form.text_field :latitude, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-4">
      <%= form.label t('apartment.virtual_visit_link'), class:"col-form-label" %><br/>
      <%= form.text_field :virtual_visit_link, class: 'form-control' %>
    </div>
  </div>
  <%= render partial: 'rent_rates' , locals: { form: form } %>
  <%= link_to 'Back', apartments_path, class: 'btn btn-dark mt-4 pr-4 pl-4' %>
  <%= button_tag 'Save', class:"btn btn-success mt-4 pr-4 pl-4", type: "submit" %>
<% end %>
<script type="text/javascript">
  $(document).ready(function (e) {
    $('#departure-date').datetimepicker({
      format: 'DD/MM/YYYY'
    });
    ApartmentForm.validate();
  });
</script>
