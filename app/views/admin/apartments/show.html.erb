<div class='row'>
  <div class="col-sm-12">
    <div id="carouselExampleControls" class="carousel slide ml-4" data-ride="carousel">
      <div class="carousel-inner" role="listbox">
        <!-- Image box start -->
        <% @apartment.images.each do |image| %>
          <div class="carousel-item <%= @apartment.active_class(image) %>">
            <%= image_tag url_for(image), class: "d-block w-100", style:"height:420px;" %>
          </div>
        <% end %>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
  <div class='col-sm-6'>
  <!-- Map container start -->
    <div id="at-locationmap" class="at-locationmap"></div>
  <!-- Map container end -->
  </div>
</div>
<div class="row">
  <div class="col-md-6 mt-5">
    <div class="card">
      <div class="card-header">
        <strong class="card-title"><%= t('apartment.property_details') %></strong>
      </div>
      <div class="card-body">
        <div id="bootstrap-data-table_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
          <div class="row">
            <div class="col-sm-12">
              <table id="bootstrap-data-table" class="table table-striped table-bordered dataTable no-footer"
                role="grid" aria-describedby="bootstrap-data-table_info">
                <tbody>
                  <tr><li><%= t('apartment.description') %>: <span><%= @apartment.description %></span></li></tr>
                  <tr><li><%= t('apartment.shower_room') %>: <span><%= @apartment.shower_room %></span></li></tr>
                  <tr><li><%= t('apartment.floor') %>: <span><%= @apartment.floor %></span></li></tr>
                  <tr><li><%= t('apartment.total_bedrooms') %>: <span><%= @apartment.total_bedrooms %></span></li></tr>
                  <tr><li><%= t('apartment.area') %>: <span><%= @apartment.area %></li></tr>
                  <tr><li><%= t('apartment.distance_from_university') %>: <span><%= @apartment.distance_from_university %></span></li></tr>
                  <tr><li><%= t('apartment.other_facilities') %>: <span><%= @apartment.other_facilities %></span></li></tr>
                  <tr><li><%= t('apartment.virtual_visit_link') %>: <span><a href="<%= @apartment.virtual_visit_link %>"><%= @apartment.virtual_visit_link %></a></span></li></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6 mt-5">
    <div class="card">
      <div class="card-header">
        <strong class="card-title"><%= t('apartment.rent_details') %></strong>
      </div>
      <div class="card-body">
        <div id="bootstrap-data-table_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
          <div class="row">
            <div class="col-sm-12">
              <table id="bootstrap-data-table" class="table table-striped table-bordered dataTable no-footer"
                role="grid" aria-describedby="bootstrap-data-table_info">
                <tbody>
                  <% rent = @apartment.rent_rate %>
                  <tr><li><%= t('rent.net_rate') %>: <span><%= rent&.net_rate %></span></li></tr>
                  <tr><li><%= t('rent.water_charge') %>: <span><%= rent&.water_charge %></span></li></tr>
                  <tr><li><%= t('rent.heating_charge') %>: <span><%= rent&.heating_charge %></span></li></tr>
                  <tr><li><%= t('rent.electricity_charge') %>: <span><%= rent&.electricity_charge %></span></li></tr>
                  <tr><li><%= t('rent.internet_charge') %>: <span><%= rent&.internet_charge %></span></li></tr>
                  <tr><li><%= t('rent.deposit_amount') %>: <span><%= rent&.deposit_amount %></span></li></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <%= link_to 'Edit', edit_admin_apartment_path(@apartment), class: 'btn at-btn col-sm-3 ml-4' %>
        <% if !@apartment.subscribed? %>
          <%= link_to 'Post', new_admin_subscription_path(apartment_id: params[:id]), data: { remote: true }, class: 'btn at-btn col-sm-3 ml-4 post-btn' %>
        <% end %>
        <%= link_to admin_apartment_path(@apartment), method: :delete, data: { confirm: t('confirmation') }, class: 'btn col-sm-3 btn-danger ml-4 delete-btn' do %>Delete
        <% end %>
      </div>
    </div>
  </div>
</div>
<%= render '/shared/modal_window', locals: { modelId: 'subscriptionModal' } %>
<%= render '/shared/modal_window', locals: { modelId: 'booking_modal' } %>
